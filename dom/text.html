<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />

  <title>Text节点和DocumentFragment节点 -- JavaScript 标准参考教程（alpha）</title>
  
  <!-- Included CSS Files (Uncompressed) -->
  <!--
  <link rel="stylesheet" href="stylesheets/foundation.css">
  -->
  
  <!-- Included CSS Files (Compressed) -->
  <link rel="stylesheet" href="/css/foundation.css">
  <link rel="stylesheet" href="/css/main.css">

  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <script src="/js/jquery.js"></script>
  <script src="/js/toc.js"></script>
  <script src="/js/main.js"></script>

</head>
<body>

<header class="top-bar" id="header">

<div class="fixed">

<nav class="top-bar">
<ul>
<!-- Title Area -->
	<li class="name has-dropdown">
	<h1><a href="/">JavaScript 标准参考教程（alpha） </a></h1>
		<ul class="dropdown">
			
			<li><a href="/#introduction">导论</a></li>
			
			<li><a href="/#grammar">语法</a></li>
			
			<li><a href="/#stdlib">标准库</a></li>
			
			<li><a href="/#oop">面向对象编程</a></li>
			
			<li><a href="/#advanced">语法专题</a></li>
			
			<li><a href="/#dom">DOM模型</a></li>
			
			<li><a href="/#bom">浏览器环境</a></li>
			
			<li><a href="/#htmlapi">Web API</a></li>
			
		</ul>
	</li>
</ul>

<section>


<ul class="left">
<li class="divider"></li>
<li class="has-dropdown"><a class="active" href="#"> DOM模型 </a><ul class="dropdown">















<li><a href="/dom/attribute.html">属性的操作</a></li>



































<li><a href="/dom/css.html">CSS操作</a></li>



















<li><a href="/dom/document.html">document 对象</a></li>







<li><a href="/dom/element.html">Element对象</a></li>











<li><a href="/dom/event-type.html">事件种类</a></li>





<li><a href="/dom/event.html">事件模型</a></li>

































<li><a href="/dom/image.html">Image对象</a></li>



































<li><a href="/dom/mutationobserver.html">Mutation Observer API</a></li>







<li><a href="/dom/node.html">DOM 模型概述</a></li>















































































<li class="active"><a href="#">Text节点和DocumentFragment节点</a></li>































</ul></li>
<li class="divider"></li>
<li class="has-dropdown nav-3"><a href="#"> Text节点和DocumentFragment节点</a><ul class="dropdown">
</ul></li>
</ul>


<ul class="right">
	<li class="divider"></li>
	<li>
		<a href="https://github.com/ruanyf/jstutorial" target="_blank">GitHub <i class="foundicon-edit"></i></a>
	</li>
	<li class="divider"></li>
	<li>
		<a href="#">TOP <i class="foundicon-up-arrow"></i></a>
	</li>
</ul>

</section>

</nav>  
</div>
</header>


<article class="bookPage">

  <div class="row">
    <div class="twelve columns">

<h1> Text节点和DocumentFragment节点 </h1>

<aside class="right"><p>来自<a href="/">《JavaScript 标准参考教程（alpha）》</a>，by 阮一峰</p></aside>

<div id="toc" class="panel callout radius">目录</div>


<h2 id="text节点的概念">Text节点的概念</h2>

<p><code class="highlighter-rouge">Text</code>节点代表<code class="highlighter-rouge">Element</code>节点和<code class="highlighter-rouge">Attribute</code>节点的文本内容。如果一个节点只包含一段文本，那么它就有一个<code class="highlighter-rouge">Text</code>子节点，代表该节点的文本内容。</p>

<p>通常我们使用<code class="highlighter-rouge">Node</code>节点的<code class="highlighter-rouge">firstChild</code>、<code class="highlighter-rouge">nextSibling</code>等属性获取<code class="highlighter-rouge">Text</code>节点，或者使用<code class="highlighter-rouge">Document</code>节点的<code class="highlighter-rouge">createTextNode</code>方法创造一个<code class="highlighter-rouge">Text</code>节点。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// 获取Text节点</span>
<span class="kd">var</span> <span class="nx">textNode</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">;</span>

<span class="c1">// 创造Text节点</span>
<span class="kd">var</span> <span class="nx">textNode</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">'Hi'</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">textNode</span><span class="p">);</span></code></pre></figure>

<p>浏览器原生提供一个Text构造函数。它返回一个Text节点。它的参数就是该Text节点的文本内容。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">text1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Text</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">text2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Text</span><span class="p">(</span><span class="s2">"This is a text node"</span><span class="p">);</span>
</code></pre></div></div>

<p>注意，由于空格也是一个字符，所以哪怕只有一个空格，也会形成Text节点。</p>

<p>Text节点除了继承Node节点的属性和方法，还继承了CharacterData接口。Node节点的属性和方法请参考《Node节点》章节，这里不再重复介绍了，以下的属性和方法大部分来自CharacterData接口。</p>

<h2 id="text节点的属性">Text节点的属性</h2>

<h3 id="data">data</h3>

<p><code class="highlighter-rouge">data</code>属性等同于<code class="highlighter-rouge">nodeValue</code>属性，用来设置或读取Text节点的内容。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 读取文本内容</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">data</span>
<span class="c1">// 等同于</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">nodeValue</span>

<span class="c1">// 设置文本内容</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="s1">'Hello World'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="wholetext">wholeText</h3>

<p>wholeText属性将当前Text节点与毗邻的Text节点，作为一个整体返回。大多数情况下，wholeText属性的返回值，与data属性和textContent属性相同。但是，某些特殊情况会有差异。</p>

<p>举例来说，HTML代码如下。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"para"</span><span class="nt">&gt;</span>A <span class="nt">&lt;em&gt;</span>B<span class="nt">&lt;/em&gt;</span> C<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<p>这时，Text节点的wholeText属性和data属性，返回值相同。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"para"</span><span class="p">);</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">wholeText</span> <span class="c1">// "A "</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">data</span> <span class="c1">// "A "</span>
</code></pre></div></div>

<p>但是，一旦移除em节点，wholeText属性与data属性就会有差异，因为这时其实P节点下面包含了两个毗邻的Text节点。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">el</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">para</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">wholeText</span> <span class="c1">// "A C"</span>
<span class="nx">el</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">data</span> <span class="c1">// "A "</span>
</code></pre></div></div>

<h3 id="length">length</h3>

<p>length属性返回当前Text节点的文本长度。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="k">new</span> <span class="nx">Text</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">)).</span><span class="nx">length</span> <span class="c1">// 5</span>
</code></pre></div></div>

<h3 id="nextelementsibling">nextElementSibling</h3>

<p>nextElementSibling属性返回紧跟在当前Text节点后面的那个同级Element节点。如果取不到这样的节点，则返回null。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// HTML为</span>
<span class="c1">// &lt;div&gt;Hello &lt;em&gt;World&lt;/em&gt;&lt;/div&gt;</span>

<span class="kd">var</span> <span class="nx">tn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">;</span>
<span class="nx">tn</span><span class="p">.</span><span class="nx">nextElementSibling</span>
<span class="c1">// &lt;em&gt;World&lt;/em&gt;</span>
</code></pre></div></div>

<h3 id="previouselementsibling">previousElementSibling</h3>

<p>previousElementSibling属性返回当前Text节点前面最近的那个Element节点。如果取不到这样的节点，则返回null。</p>

<h2 id="text节点的方法">Text节点的方法</h2>

<h3 id="appenddatadeletedatainsertdatareplacedatasubstringdata">appendData()，deleteData()，insertData()，replaceData()，subStringData()</h3>

<p>以下5个方法都是编辑Text节点文本内容的方法。</p>

<p>appendData方法用于在Text节点尾部追加字符串。</p>

<p>deleteData方法用于删除Text节点内部的子字符串，第一个参数为子字符串位置，第二个参数为子字符串长度。</p>

<p>insertData方法用于在Text节点插入字符串，第一个参数为插入位置，第二个参数为插入的子字符串。</p>

<p>replaceData方法用于替换文本，第一个参数为替换开始位置，第二个参数为需要被替换掉的长度，第三个参数为新加入的字符串。</p>

<p>subStringData方法用于获取子字符串，第一个参数为子字符串在Text节点中的开始位置，第二个参数为子字符串长度。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// HTML代码为</span>
<span class="c1">// &lt;p&gt;Hello World&lt;/p&gt;</span>
<span class="kd">var</span> <span class="nx">pElementText</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">;</span>

<span class="nx">pElementText</span><span class="p">.</span><span class="nx">appendData</span><span class="p">(</span><span class="s1">'!'</span><span class="p">);</span>
<span class="c1">// 页面显示 Hello World!</span>
<span class="nx">pElementText</span><span class="p">.</span><span class="nx">deleteData</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span>
<span class="c1">// 页面显示 Hello W</span>
<span class="nx">pElementText</span><span class="p">.</span><span class="nx">insertData</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="s1">'Hello '</span><span class="p">);</span>
<span class="c1">// 页面显示 Hello WHello</span>
<span class="nx">pElementText</span><span class="p">.</span><span class="nx">replaceData</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s1">'World'</span><span class="p">);</span>
<span class="c1">// 页面显示 Hello WWorld</span>
<span class="nx">pElementText</span><span class="p">.</span><span class="nx">substringData</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="c1">// 页面显示不变，返回"World "</span></code></pre></figure>

<h3 id="remove">remove()</h3>

<p>remove方法用于移除当前Text节点。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// HTML代码为</span>
<span class="c1">// &lt;p&gt;Hello World&lt;/p&gt;</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">firstChild</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
<span class="c1">// 现在页面代码为</span>
<span class="c1">// &lt;p&gt;&lt;/p&gt;</span>
</code></pre></div></div>

<h3 id="splittextnormalize">splitText()，normalize()</h3>

<p>splitText方法将Text节点一分为二，变成两个毗邻的Text节点。它的参数就是分割位置（从零开始），分割到该位置的字符前结束。如果分割位置不存在，将报错。</p>

<p>分割后，该方法返回分割位置后方的字符串，而原Text节点变成只包含分割位置前方的字符串。</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// html代码为 &lt;p id="p"&gt;foobar&lt;/p&gt;</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'p'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">textnode</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">newText</span> <span class="o">=</span> <span class="nx">textnode</span><span class="p">.</span><span class="nx">splitText</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">newText</span> <span class="c1">// "bar"</span>
<span class="nx">textnode</span> <span class="c1">// "foo"</span></code></pre></figure>

<p>normalize方法可以将毗邻的两个Text节点合并。</p>

<p>接上面的例子，splitText方法将一个Text节点分割成两个，normalize方法可以实现逆操作，将它们合并。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">p</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// 2</span>

<span class="c1">// 将毗邻的两个Text节点合并</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">normalize</span><span class="p">();</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="c1">// 1</span>
</code></pre></div></div>

<h2 id="documentfragment节点">DocumentFragment节点</h2>

<p><code class="highlighter-rouge">DocumentFragment</code>节点代表一个文档的片段，本身就是一个完整的DOM树形结构。它没有父节点，<code class="highlighter-rouge">parentNode</code>返回<code class="highlighter-rouge">null</code>，但是可以插入任意数量的子节点。它不属于当前文档，操作<code class="highlighter-rouge">DocumentFragment</code>节点，要比直接操作DOM树快得多。</p>

<p>它一般用于构建一个 DOM 结构，然后插入当前文档。<code class="highlighter-rouge">document.createDocumentFragment</code>方法，以及浏览器原生的<code class="highlighter-rouge">DocumentFragment</code>构造函数，可以创建一个空的<code class="highlighter-rouge">DocumentFragment</code>节点。然后再使用其他DOM方法，向其添加子节点。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">docFrag</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>
<span class="c1">// or</span>
<span class="kd">var</span> <span class="nx">docFrag</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DocumentFragment</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">li</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
<span class="nx">li</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s1">'Hello World'</span><span class="p">;</span>
<span class="nx">docFrag</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">li</span><span class="p">);</span>

<span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">docFrag</span><span class="p">);</span>
</code></pre></div></div>

<p>上面代码创建了一个<code class="highlighter-rouge">DocumentFragment</code>节点，然后将一个<code class="highlighter-rouge">li</code>节点添加在它里面，最后将<code class="highlighter-rouge">DocumentFragment</code>节点移动到原文档。</p>

<p>注意，<code class="highlighter-rouge">DocumentFragment</code>节点本身不能被插入当前文档。当它作为<code class="highlighter-rouge">appendChild()</code>、<code class="highlighter-rouge">insertBefore()</code>、<code class="highlighter-rouge">replaceChild()</code>等方法的参数时，是它的所有子节点插入当前文档，而不是它自身。一旦<code class="highlighter-rouge">DocumentFragment</code>节点被添加进当前文档，它自身就变成了空节点（<code class="highlighter-rouge">textContent</code>属性为空字符串），可以被再次使用。如果想要保存<code class="highlighter-rouge">DocumentFragment</code>节点的内容，可以使用<code class="highlighter-rouge">cloneNode</code>方法。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span>
  <span class="p">.</span><span class="nx">queryselector</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">docFrag</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>
</code></pre></div></div>

<p>下面是一个例子，使用<code class="highlighter-rouge">DocumentFragment</code>反转一个指定节点的所有子节点的顺序。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">reverse</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>
  <span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">)</span> <span class="nx">f</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span>
  <span class="nx">n</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">f</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">DocumentFragment</code>节点对象没有自己的属性和方法，全部继承自<code class="highlighter-rouge">Node</code>节点和<code class="highlighter-rouge">ParentNode</code>接口。也就是说，<code class="highlighter-rouge">DocumentFragment</code>节点比<code class="highlighter-rouge">Node</code>节点多出以下四个属性。</p>

<ul>
  <li><code class="highlighter-rouge">children</code>：返回一个动态的<code class="highlighter-rouge">HTMLCollection</code>集合对象，包括当前<code class="highlighter-rouge">DocumentFragment</code>对象的所有子元素节点。</li>
  <li><code class="highlighter-rouge">firstElementChild</code>：返回当前<code class="highlighter-rouge">DocumentFragment</code>对象的第一个子元素节点，如果没有则返回<code class="highlighter-rouge">null</code>。</li>
  <li><code class="highlighter-rouge">lastElementChild</code>：返回当前<code class="highlighter-rouge">DocumentFragment</code>对象的最后一个子元素节点，如果没有则返回<code class="highlighter-rouge">null</code>。</li>
  <li><code class="highlighter-rouge">childElementCount</code>：返回当前<code class="highlighter-rouge">DocumentFragment</code>对象的所有子元素数量。</li>
</ul>



</article>

<div class="row">
<div class="twelve columns">

<h2>留言</h2>

<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jstutorial'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</section>

</div>
</div>

<footer>
<div class="row">
<div class="twelve columns">
	<p><a href="/introduction/license.html">版权声明</a> | last modified on 2015-05-01 </p>
</div>
</div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43771063-1', 'ruanyifeng.com');
  ga('send', 'pageview');
</script>
</body>
</html>


